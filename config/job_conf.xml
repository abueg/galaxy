<?xml version="1.0"?>
<!-- A sample job config that explicitly configures job running the way it is
     configured by default (if there is no explicit config). -->
<job_conf>
    <plugins>
        <plugin id="local" type="runner" load="galaxy.jobs.runners.local:LocalJobRunner" workers="4"/>
        <plugin id="slurm" type="runner" load="galaxy.jobs.runners.slurm:SlurmJobRunner">
            <param id="drmaa_library_path">/vggpfs/fs3/vgl/store/labueg/programs/slurm-drmaa/slurm-drmaa-1.1.3/lib/libdrmaa.so</param>
        </plugin>
    </plugins>
    <destinations default="slurm-vgl">
        <destination id="local" runner="local"/>
        <destination id="vgl-all" runner="slurm">
            <param id="nativeSpecification">--nodes=1 --ntasks=1 --cpus-per-task=32 --partition=vgl</param>
        </destination>
        <destination id="vgl-half" runner="slurm">
            <param id="nativeSpecification">--nodes=1 --ntasks=1 --cpus-per-task=16 --partition=vgl</param>
        </destination>
        <destination id="bigmem-all" runner="slurm">
            <param id="nativeSpecification">--nodes=1 --ntasks=1 --cpus-per-task=64 --partition=vgl_bigmem</param>
        </destination>
        <destination id="bigmem-half" runner="slurm">
            <param id="nativeSpecification">--nodes=1 --ntasks=1 --cpus-per-task=32 --partition=vgl_bigmem</param>
        </destination>
        <destination id="dynamic_partition_cores" runner="dynamic">
            <param id="type">python</param>
            <param id="function">dynamic_partition_cores</param>
        </destination>
    </destinations>
    <resources>
        <group id="testing">partition,cores</group>
    </resources>
    <tools>
        <tool id="meryl" destination="dynamic_partition_cores" resources="testing" />
    </tools>
</job_conf>
